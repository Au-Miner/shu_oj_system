(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["Submission"],{"09ad":function(t,e,s){"use strict";s.r(e);var a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("el-breadcrumb",{attrs:{"separator-class":"el-icon-arrow-right"}},[s("el-breadcrumb-item",{attrs:{to:{path:"/home"}}},[t._v("首页")]),s("el-breadcrumb-item",[t._v("提交状态")])],1),s("SubmissionTable",{attrs:{region:"set_main"}})],1)},i=[],n=s("92fb"),r={components:{SubmissionTable:n["a"]}},o=r,l=s("2877"),c=Object(l["a"])(o,a,i,!1,null,null,null);e["default"]=c.exports},"4d9b":function(t,e,s){"use strict";s.r(e);var a=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("el-breadcrumb",{attrs:{"separator-class":"el-icon-arrow-right"}},[a("el-breadcrumb-item",{attrs:{to:{path:"/home"}}},[t._v("首页")]),a("el-breadcrumb-item",[t._v("提交详情")])],1),t.isNoPermission?a("div",[a("el-card",{staticClass:"noContextBlock",staticStyle:{height:"500px","justify-content":"center"}},[a("div",[a("img",{staticClass:"noContextPic",attrs:{src:s("d0ec")}})]),a("div",{staticStyle:{"font-size":"14px"}},[t._v("无权限查看此提交详情")])])],1):a("div",[0==t.subResult?a("el-alert",{attrs:{title:"Accepted",type:"success",closable:!1,description:"","show-icon":""}}):t._e(),1==t.subResult?a("el-alert",{attrs:{title:"unAccepted",type:"error",closable:!1,description:"","show-icon":""}}):t._e(),2==t.subResult?a("el-alert",{attrs:{title:t.err,type:"warning",closable:!1,description:"","show-icon":""}}):t._e(),a("el-card",{staticStyle:{"margin-top":"25px",padding:"20px"}},[a("div",{staticStyle:{display:"flex","flex-direction":"row","align-items":"center","justify-content":"space-between"}},[a("div",{staticStyle:{"font-size":"28px","font-weight":"500"}},[t._v(" "+t._s(t.problemTitle)+" ")]),a("div",[a("div",[a("span",{staticStyle:{"font-size":"16px","font-weight":"500"}},[t._v("State ")]),a("el-tag",{attrs:{effect:"dark",type:"Finished"==t.state?"success":"Pending"==t.state?"":"Waiting"==t.state?"info":"",size:"small"}},[t._v(" "+t._s(t.state))])],1),a("div",[a("span",{staticStyle:{"font-size":"16px","font-weight":"500"}},[t._v("When ")]),a("span",{staticStyle:{"font-size":"14px",color:"#606a78"}},[t._v(t._s(t.formatTime(t.subTime)))])])])]),a("el-divider"),"Finished"!==t.state?a("div",{staticClass:"noContextBlock"},[a("div",[a("img",{staticClass:"noContextPic",attrs:{src:s("d0ec")}})]),a("div",{staticStyle:{"font-size":"14px"}},[t._v("暂未完成判题，请稍后查看")])]):null!==t.err?a("div",[a("div",{staticStyle:{color:"#f54a45"}},[t._v("编译错误原因：")]),a("div",{staticStyle:{"font-size":"14px","margin-top":"5px"}},[t._v(t._s(t.error_reason))])]):a("div",[a("div",{staticStyle:{"font-size":"20px","font-weight":"450"}},[t._v("测试点详情")]),a("div",{staticClass:"someTip",domProps:{innerHTML:t._s("绿色: SUCCESS&emsp;&ensp;红色: WRONG_ANSWER")}}),a("div",{staticClass:"testCaseWrap scrollbar"},t._l(t.testCase,(function(e,s){return a("div",{key:s,attrs:{index:s+""}},[a("div",{staticClass:"testCase",style:"SUCCESS"===e.result?{"background-color":"#5fc931"}:{"background-color":"#f05459"}},[a("div",{staticClass:"testCaseTitle"},[t._v("# Case "+t._s(s+1))]),a("div",{staticClass:"testCaseContent"},[a("span",{staticClass:"testCaseContentTitle"},[t._v(" CPU Time:")]),a("span",[t._v(" "+t._s(e.cpu_time)+" ms")])]),a("div",{staticClass:"testCaseContent"},[a("span",{staticClass:"testCaseContentTitle"},[t._v("Memory:")]),a("span",[t._v(" "+t._s(t.submissionMemoryFormat(e.memory)))])]),"SUCCESS"!==e.result?a("div",{staticClass:"testCaseDownload"},[a("el-popover",{attrs:{title:"标准输入数据",trigger:"click"}},[a("div",{staticStyle:{"max-width":"500px"}},[t._v(" "+t._s(t.standardTestCaseData)+" ")]),a("el-link",{staticStyle:{"margin-top":"8px"},attrs:{icon:"el-icon-download",type:"primary",underline:!1,target:"_blank",download:"",href:t.BASE_URL+"/regions/"+t.region+"/"+t.problem_id+"/test_case/"+e.test_case+"?input=true"}},[t._v("下载到本地")]),a("el-link",{attrs:{slot:"reference"},on:{click:function(s){return t.downloadTestCase(e.test_case,"true")}},slot:"reference"},[t._v("标准输入")])],1),a("el-popover",{attrs:{placement:"bottom",title:"标准输出数据",trigger:"click"}},[a("div",{staticStyle:{"max-width":"500px"}},[t._v(" "+t._s(t.standardTestCaseData)+" ")]),a("el-link",{staticStyle:{"margin-top":"8px"},attrs:{icon:"el-icon-download",type:"primary",underline:!1,target:"_blank",download:"",href:t.BASE_URL+"/regions/"+t.region+"/"+t.problem_id+"/test_case/"+e.test_case+"?input=false"}},[t._v("下载到本地")]),a("el-link",{staticStyle:{"margin-left":"10px"},attrs:{slot:"reference"},on:{click:function(s){return t.downloadTestCase(e.test_case,"false")}},slot:"reference"},[t._v("标准输出")])],1)],1):t._e()])])})),0)])],1),a("el-card",{staticStyle:{"margin-top":"20px",padding:"20px"}},[a("div",{staticStyle:{display:"flex","justify-content":"space-between"}},[a("span",{staticStyle:{"font-size":"20px","font-weight":"500"}},[t._v("源代码")]),a("span",[t._v("语言: "+t._s(t.languageToLabel[t.language]))])]),a("el-divider"),a("codemirror",{attrs:{options:t.options},model:{value:t.code,callback:function(e){t.code=e},expression:"code"}})],1)],1)],1)},i=[],n=(s("b680"),s("e25e"),s("8f94")),r=(s("a7be"),s("b866"),s("db91"),s("7c00")),o=s("aa7a"),l=s("9c40"),c={data:function(){return{isNoPermission:!1,BASE_URL:l["a"],options:{tabSize:2,theme:"idea",lineNumbers:!0,line:!0,lineWrapping:!0,styleActiveLine:!0,readOnly:!0,hintOptions:{completeSingle:!0}},code:"",uuid:"",region:"",problem_id:"",problemTitle:"",subResult:"3",err:null,error_reason:"",result_err_reason:"",subTime:"",state:"",language:"",languageToLabel:{c:"C语言",py2:"python2",py3:"python3",java:"Java",cpp:"C++"},testCase:[],standardTestCaseData:""}},created:function(){this.uuid=this.$route.params.uuid,""!=this.uuid&&this.getResult(this.uuid)},methods:{getResult:function(t){var e=this,s=this;Object(o["b"])(t).then((function(t){s.getProblemTitle(t.problem_id),s.region=t.region,s.problem_id=t.problem_id,s.subTime=t.submit_time,s.code=t.settings.src,s.state=t.state,s.language=t.language,"Finished"===t.state&&(s.testCase=t.result.details,null!==t.err?(s.subResult=2,s.err=t.err,s.error_reason=t.result.err_reason):(s.err=t.err,!0===t.is_accepted?s.subResult=0:s.subResult=1))}))["catch"]((function(){e.isNoPermission=!0}))},getProblemTitle:function(t){var e=this;Object(r["k"])(t).then((function(t){e.problemTitle=t}))["catch"]((function(t){}))},formatTime:l["e"],submissionMemoryFormat:function(t){if(null===t)return"--";var e=parseInt(t)/1048576;return String(e.toFixed(0))+" MB"},downloadTestCase:function(t,e){var s=this;Object(r["j"])(this.region,this.problem_id,t,e).then((function(t){s.standardTestCaseData=t}))}},components:{codemirror:n["codemirror"]}},u=c,d=(s("c140"),s("2877")),p=Object(d["a"])(u,a,i,!1,null,"b42d1c26",null);e["default"]=p.exports},7156:function(t,e,s){var a=s("861d"),i=s("d2bb");t.exports=function(t,e,s){var n,r;return i&&"function"==typeof(n=e.constructor)&&n!==s&&a(r=n.prototype)&&r!==s.prototype&&i(t,r),t}},"7b5e":function(t,e,s){},"92fb":function(t,e,s){"use strict";var a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("el-card",[s("div",{staticClass:"tableBar"},[s("el-switch",{staticStyle:{"margin-right":"20px"},attrs:{"active-text":"仅自己","inactive-text":"全部","active-value":t.user_id,"inactive-value":null},on:{change:function(e){return t.getStateList()}},model:{value:t.switchValue,callback:function(e){t.switchValue=e},expression:"switchValue"}}),s("el-button",{attrs:{size:"small"},on:{click:function(e){return t.getStateList()}}},[t._v("刷新列表")])],1),s("el-table",{attrs:{data:t.statelist},on:{"row-click":t.handleClickSubmission}},[s("el-table-column",{attrs:{label:"提交时间",width:"200"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(" "+t._s(t.formatTime(e.row.submit_time))+" ")]}}])}),s("el-table-column",{attrs:{prop:"problem_id",label:"题目名称",width:"100"}}),s("el-table-column",{attrs:{prop:"username",label:"用户",width:"200"}}),s("el-table-column",{attrs:{prop:"state",label:"判题状态"},scopedSlots:t._u([{key:"default",fn:function(e){return[s("el-tag",{attrs:{type:"Finished"==e.row.state?"success":"Pending"==e.row.state?"":"Wainting"==e.row.state?"info":"",size:"small"}},[t._v(" "+t._s(e.row.state))])]}}])}),s("el-table-column",{attrs:{label:"运行结果"},scopedSlots:t._u([{key:"default",fn:function(e){return["Finished"===e.row.state?s("el-tag",{attrs:{effect:"dark",type:null!==e.row.err?"warning":null===e.row.err&&1==e.row.is_accepted?"success":null===e.row.err&&0==e.row.is_accepted?"danger":"success",size:"small"}},[t._v(" "+t._s(t.resultFormtype(e.row.err,e.row.is_accepted)))]):t._e()]}}])}),s("el-table-column",{attrs:{prop:"max_time",label:"运行时间"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(" "+t._s(e.row.max_time?e.row.max_time+" ms":"--")+" ")]}}])}),s("el-table-column",{attrs:{label:"使用内存"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(" "+t._s(t.submissionMemoryFormat(e.row.max_memory))+" ")]}}])}),s("el-table-column",{attrs:{prop:"language",label:"使用语言",width:"100"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(" "+t._s(t.languageToLabel[e.row.language])+" ")]}}])})],1),s("el-pagination",{staticClass:"table_pagination",attrs:{background:"","hide-on-single-page":"","page-size":t.pageSize,"current-page":t.currentPage,layout:"prev, pager, next, jumper",total:t.total},on:{"current-change":t.getStateList}})],1)},i=[],n=(s("a9e3"),s("e25e"),s("aa7a")),r=s("9c40"),o={props:{region:{type:String,default:""},problem_filter:{type:Number,default:null},isContestRunning:{type:Boolean,default:!1}},data:function(){return{statelist:[],searchInput:"",currentPage:1,pageSize:10,total:null,switchValue:null,user_id:"",languageToLabel:{c:"C语言",py2:"python2",py3:"python3",java:"Java",cpp:"C++"}}},created:function(){this.getStateList(),this.user_id=window.localStorage.getItem("id")},methods:{getStateList:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,s={region_filter:this.region,problem_id_filter:this.problem_filter,user_id_filter:this.switchValue,limit:this.pageSize,offset:this.pageSize*(e-1)};Object(n["c"])(s).then((function(s){t.currentPage=e,t.statelist=s.list,t.total=s.total}))["catch"]((function(t){}))},resultFormtype:function(t,e){return null!=t?"Compile Error":1==e?"Accepted":"Unaccepted"},formatTime:r["e"],submissionMemoryFormat:function(t){return t?"".concat(Math.round(parseInt(t)/1024)," KB"):"--"},handleClickSubmission:function(t){if(this.isContestRunning){var e=this.$router.resolve({name:"contestSubmissionDetail",params:{uuid:t.id}});window.open(e.href,"_blank")}else{var s=this.$router.resolve({name:"submissionDetail",params:{uuid:t.id}});window.open(s.href,"_blank")}}}},l=o,c=(s("b8d7"),s("2877")),u=Object(c["a"])(l,a,i,!1,null,"19e928b8",null);e["a"]=u.exports},a9e3:function(t,e,s){"use strict";var a=s("83ab"),i=s("da84"),n=s("94ca"),r=s("6eeb"),o=s("5135"),l=s("c6b6"),c=s("7156"),u=s("c04e"),d=s("d039"),p=s("7c73"),f=s("241c").f,m=s("06cf").f,b=s("9bf2").f,_=s("58a8").trim,g="Number",v=i[g],h=v.prototype,y=l(p(h))==g,w=function(t){var e,s,a,i,n,r,o,l,c=u(t,!1);if("string"==typeof c&&c.length>2)if(c=_(c),e=c.charCodeAt(0),43===e||45===e){if(s=c.charCodeAt(2),88===s||120===s)return NaN}else if(48===e){switch(c.charCodeAt(1)){case 66:case 98:a=2,i=49;break;case 79:case 111:a=8,i=55;break;default:return+c}for(n=c.slice(2),r=n.length,o=0;o<r;o++)if(l=n.charCodeAt(o),l<48||l>i)return NaN;return parseInt(n,a)}return+c};if(n(g,!v(" 0o1")||!v("0b1")||v("+0x1"))){for(var S,C=function(t){var e=arguments.length<1?0:t,s=this;return s instanceof C&&(y?d((function(){h.valueOf.call(s)})):l(s)!=g)?c(new v(w(e)),s,C):w(e)},x=a?f(v):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger,fromString,range".split(","),k=0;x.length>k;k++)o(v,S=x[k])&&!o(C,S)&&b(C,S,m(v,S));C.prototype=h,h.constructor=C,r(i,g,C)}},aa7a:function(t,e,s){"use strict";s.d(e,"a",(function(){return i})),s.d(e,"c",(function(){return n})),s.d(e,"b",(function(){return r}));s("99af");var a=s("d354");function i(t,e,s){return Object(a["c"])("/regions/".concat(t,"/").concat(e,"/submission"),s)}function n(t){return Object(a["b"])("/submissions",t)}function r(t){return Object(a["b"])("/submissions/".concat(t))}},b8d7:function(t,e,s){"use strict";s("ddd0")},c140:function(t,e,s){"use strict";s("7b5e")},d0ec:function(t,e,s){t.exports=s.p+"static/img/nocontext.cd6b3f23.svg"},ddd0:function(t,e,s){}}]);